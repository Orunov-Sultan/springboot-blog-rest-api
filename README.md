# REST API Blog

## Описание

Проект представляет собой REST API для блога, реализующий следующие возможности:

- Управление категориями.
- Создание, обновление и удаление постов.
- Добавление комментариев к постам.
- Регистрация, аутентификация и авторизация пользователей.
- Разграничение прав доступа:
    - Просмотр постов доступен для всех пользователей.
    - Добавление, обновление и удаление постов доступно только пользователям с ролью `ADMIN`.

## Технологии

- **Язык:** Java
- **Фреймворк:** Spring Boot
- **База данных:** PostgreSQL
- **Аутентификация:** JWT Token
- **Документация API:** Swagger

## Установка и запуск

### Требования

- JDK 17 или выше
- Maven

### Шаги:

1. Клонировать репозиторий:

   ```bash
   git clone <URL репозитория>
   cd <имя директории>
   ```

2. Установить зависимости с помощью Maven:

   ```bash
   mvn install
   ```

3. Настроить файл `application.properties` или `application.yml`:

    - Укажите параметры подключения к базе данных:
      ```properties
      spring.datasource.url=jdbc:postgresql://localhost:5432/your_database
      spring.datasource.username=your_username
      spring.datasource.password=your_password
      ```
    - Настройте ключи для JWT аутентификации:
      ```properties
      jwt.secret=your_jwt_secret_key
      ```

4. Запустить приложение:

   ```bash
   mvn spring-boot:run
   ```

## Конечные точки API

### Категории

- `GET /api/v1/categories` - Просмотр всех категорий.
- `GET /api/v1/categories/{id}` - Просмотр категории по ID.
- `POST /api/v1/categories` - Создание категории (только для ADMIN).
- `PUT /api/v1/categories/{id}` - Обновление категории (только для ADMIN).
- `DELETE /api/v1/categories/{id}` - Удаление категории (только для ADMIN).

### Посты

- `GET /api/v1/posts` - Просмотр всех постов.
- `GET /api/v1/posts/{id}` - Просмотр поста по ID.
- `POST /api/v1/posts` - Создание поста (только для ADMIN).
- `PUT /api/v1/posts/{id}` - Обновление поста (только для ADMIN).
- `DELETE /api/v1/posts/{id}` - Удаление поста (только для ADMIN).

### Комментарии

- `GET /api/v1/posts/{post_id}/comments` - Просмотр комментариев к посту.
- `GET /api/v1/posts/{post_id}/comments/{comment_id}` - Просмотр комментария поста.
- `POST /api/v1/posts/{post_id}/comments` - Добавление комментария.
- `PUT /api/v1/posts/{post_id}/comments/{comment_id}` - Обновление комментария поста.
- `DELETE /api/v1/posts/{post_id}/comments/{comment_id}` - Удаление комментария поста.

### Пользователи

- `POST /api/v1/register` - Регистрация нового пользователя.
- `POST /api/v1/login` - Аутентификация пользователя.

## Роли и права доступа

- **ADMIN**: полный доступ ко всем возможностям API.
- **USER**: просмотр постов и добавление комментариев.

## Документация API

Документация API доступна через Swagger. После запуска приложения откройте браузер и перейдите по следующему адресу для просмотра:

```
http://localhost:8080/swagger-ui/index.html
```

Swagger предоставляет интерактивный интерфейс для тестирования всех конечных точек API.

## Дополнительные сведения

- Убедитесь, что Spring Boot настроен корректно для работы в производственной среде.
- Реализована валидация входных данных для всех запросов.
- Для безопасности рекомендуется использовать HTTPS и безопасное хранение секретных ключей JWT.